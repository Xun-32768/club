-- =============================================
-- 1. 初始化用户表 (sys_user)
-- 密码均为: 123456
-- =============================================
DELETE
FROM sys_user;

-- 超级管理员 (ID=1)
INSERT INTO `sys_user` (`id`, `username`, `password`, `real_name`, `college`, `system_role`)
VALUES (1, 'admin', 'e10adc3949ba59abbe56e057f20f883e', '系统管理员', '校团委', 0);

-- 社长账号 (ID 101-103)
INSERT INTO `sys_user` (`id`, `username`, `password`, `real_name`, `college`, `system_role`)
VALUES (101, '2021001', 'e10adc3949ba59abbe56e057f20f883e', '张三 (社长)', '计算机学院', 1),
       (102, '2021002', 'e10adc3949ba59abbe56e057f20f883e', '李四 (社长)', '艺术学院', 1),
       (103, '2021003', 'e10adc3949ba59abbe56e057f20f883e', '王五 (社长)', '体育学院', 1);

-- 普通学生账号 (ID 201-205)
INSERT INTO `sys_user` (`id`, `username`, `password`, `real_name`, `college`, `system_role`)
VALUES (201, '2022001', 'e10adc3949ba59abbe56e057f20f883e', '赵六', '外语学院', 1),
       (202, '2022002', 'e10adc3949ba59abbe56e057f20f883e', '钱七', '经管学院', 1),
       (203, '2022003', 'e10adc3949ba59abbe56e057f20f883e', '孙八', '计算机学院', 1),
       (204, '2022004', 'e10adc3949ba59abbe56e057f20f883e', '周九', '机械学院', 1),
       (205, '2022005', 'e10adc3949ba59abbe56e057f20f883e', '吴十', '艺术学院', 1);


-- =============================================
-- 2. 初始化社团表 (tb_club)
-- 对应上面的社长ID (101, 102, 103)
-- status=1 代表正常已审核
-- =============================================
DELETE
FROM club;

INSERT INTO `club` (`id`, `name`, `category`, `description`, `creator_id`, `status`, `create_time`)
VALUES (1001, '极客编程社', '科技', 'Talk is cheap, show me the code. 专注于前沿技术分享与黑客松比赛。', 101, 1,
        '2023-09-01 10:00:00'),
       (1002, '街舞协会', '艺术', '燃烧激情，舞动青春！包括HipHop, Jazz, Urban等多个舞种教学。', 102, 1,
        '2023-09-02 11:00:00'),
       (1003, '篮球俱乐部', '体育', '无兄弟不篮球，每周组织校内对抗赛和体能训练。', 103, 1, '2023-09-03 14:00:00');


-- =============================================
-- 3. 初始化社团成员表 (tb_club_member)
-- 关键规则：社长必须在成员表里，且 member_role=2 (根据你的SQL定义)
-- status=1 代表已通过
-- =============================================
DELETE
FROM club_member;

-- 3.1先把三个社长加进去 (member_role=2: 社长)
INSERT INTO `club_member` (`club_id`, `user_id`, `member_role`, `status`)
VALUES (1001, 101, 2, 1), -- 张三 -> 编程社社长
       (1002, 102, 2, 1), -- 李四 -> 街舞社社长
       (1003, 103, 2, 1);
-- 王五 -> 篮球社社长

-- 3.2 加几个普通成员 (member_role=1: 成员)
INSERT INTO `club_member` (`club_id`, `user_id`, `member_role`, `status`)
VALUES (1001, 201, 1, 1), -- 赵六 加入 编程社
       (1001, 203, 1, 1), -- 孙八 加入 编程社
       (1002, 201, 1, 1), -- 赵六 同时也加入了 街舞社 (斜杠青年)
       (1002, 205, 1, 1), -- 吴十 加入 街舞社
       (1003, 202, 1, 1), -- 钱七 加入 篮球社
       (1003, 204, 1, 0);
-- 周九 申请加入 篮球社 (status=0 待审核，方便你测试审核功能)


-- =============================================
-- 4. 初始化活动表 (tb_activity)
-- status=1 代表已发布
-- =============================================
DELETE
FROM activity;

INSERT INTO `activity` (`id`, `club_id`, `title`, `content`, `start_time`, `end_time`, `location`, `max_people`,
                        `status`)
VALUES (5001, 1001, 'Java Spring Boot 入门讲座', '邀请阿里P7大佬讲解Spring Boot 3新特性，现场有抽奖。',
        '2024-06-01 14:00:00', '2024-06-01 16:00:00', '教三-201', 100, 1),
       (5002, 1001, 'LeetCode 刷题马拉松', '周末一起刷题，解决算法难题。', '2024-06-10 09:00:00', '2024-06-10 18:00:00',
        '图书馆研讨室', 20, 1),
       (5003, 1002, '校园快闪舞蹈', '周五晚上操场快闪，欢迎围观！', '2024-06-05 19:00:00', '2024-06-05 20:00:00',
        '北区操场', 0, 1),
       (5004, 1003, '3v3 新生篮球赛', '展现新生力量，冠军有球鞋奖励。', '2024-05-20 14:00:00', '2024-05-20 18:00:00',
        '体育馆主馆', 50, 2);
-- 状态2=已结束


-- =============================================
-- 5. 初始化活动报名记录 (tb_signup_record)
-- =============================================
DELETE
FROM activity_member;

-- 几个人报名了 Java 讲座
INSERT INTO `activity_member` (`activity_id`, `user_id`, `checkin_status`)
VALUES (5001, 201, 0),
       (5001, 203, 1); -- 孙八已经签到了